#!/bin/bash
#
# Make it easy to ask for a password
#
# Copyright 2015-2025 Joe Block <jpb@unixorn.net>
# License: Apache 2

set -e
source tumult-functions


}



only-run-on darwin
check-dependency osascript

if [[ -z $1 ]]; then
  prompt="Password:"
else
  prompt="$1"
fi
PW=$(osascript <<EOF
tell application "System Events"
  activate
  text returned of (display dialog "${prompt}" default answer "" with hidden answer)
end tell
EOF
)

echo -n "${PW}"
