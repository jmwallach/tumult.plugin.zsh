#!/usr/bin/env bash
#
# Check if Time Machine backups are allowed when running on battery
#
# Copyright 2025, Joe Block <jpb@unixorn.net>
#
# Based on information at https://herrbischoff.com/code/me/awesome-macos-command-line

if [[ "$(uname -s)" != 'Darwin' ]]; then
  echo 'Sorry, this script only works on macOS'
  exit 1
fi

exec sudo defaults read /Library/Preferences/com.apple.TimeMachine RequiresACPower
